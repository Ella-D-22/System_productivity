



<mat-card>
  <mat-card-header  class="breadcrumb">
    <div>Home/Transaction</div>
</mat-card-header>
<div class="row">
  <div class="col-md-6 col-sm-12">
      <h4>Function</h4>
      <p>{{this.function_type}}</p>
  </div>
  <div class="col-md-6 col-sm-12">
      <!-- <h4>Branch Ref Code</h4>
      <p>{{this.solCode}}</p>  -->
  </div>
</div>
<mat-divider></mat-divider>
<br>

<div class="container-fluid">
  <form class="form" [formGroup]="formData" (ngSubmit)="onSubmit()" #resetRequestsForm="ngForm" novalidate>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <div class="col-md-6 col-sm-12 form-column ">
            <label class="start pull-left">Transaction Type<span class="warning">*</span></label>
          </div>
          <div class="col-md-6 col-sm-12 form-column ">
            <select class="form-control" formControlName="transactionType"
              [ngClass]="{ 'is-invalid': submitted && f.transactionType.errors }">
              <option value="" >-- Choose Function --</option>
              <option *ngFor="let flag of transactionTypeArray" [value]="flag">{{ flag }}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <div class="col-md-6 col-sm-12 form-column ">
            <label class="start pull-left">Transaction Subtype<span class="warning">*</span></label>
          </div>
          <div class="col-md-6 col-sm-12 form-column">
            <input type="text" maxlength="6" oninput="this.value=this.value.toUpperCase()"
              formControlName="transactionSubType" class="form-control" />
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <div class="col-md-6 col-sm-12 form-column ">
            <label class="start pull-left">Currency<span class="warning">*</span></label>
          </div>
          <div class="col-md-6 col-sm-12 form-column ">
            <input type="text" [value]="this.currency" maxlength="6" oninput="this.value=this.value.toUpperCase()"
              formControlName="currency" class="form-control" />
            <mat-icon *ngIf="existingData" (click)="transactionLookup()">search</mat-icon><br>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <div class="col-md-6 col-sm-12 form-column ">
            <label class="start pull-left">Exchange Rate<span class="warning">*</span></label>
          </div>
          <div class="col-md-6 col-sm-12 form-column">
            <input type="text" [value]="this.exchangeRate" maxlength="6" oninput="this.value=this.value.toUpperCase()"
              formControlName="exchangeRate" class="form-control" />
            <mat-icon *ngIf="existingData" (click)="transactionLookup()">search</mat-icon><br>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <div class="col-md-6 col-sm-12 form-column ">
            <label class="start pull-left">Cheque No.</label>
          </div>
          <div class="col-md-6 col-sm-12 form-column ">
            <input type="text" maxlength="6" oninput="this.value=this.value.toUpperCase()" formControlName="chequeNo"
              class="form-control" />
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <!-- <div class="form-group">
          <div class="col-md-6 col-sm-12 form-column ">
           <label class="start pull-left">Exchange Rate<span class="warning">*</span></label>
          </div>
          <div class="col-md-6 col-sm-12 form-column">
            <input type="text" [value]="this.transaction_code" maxlength="6" oninput ="this.value=this.value.toUpperCase()"
            formControlName="transaction_code" class="form-control"/>
            <mat-icon  *ngIf="existingData" (click)="transactionLookup()">search</mat-icon><br>
          </div>
       </div>  -->
      </div>
    </div>
    <div *ngFor="let transForm of p.controls; let i = index" class="list-group list-group-flush">
      <div [formGroup]="transForm">
        <hr>
        <p>Trans Effect on Account: {{i + 1 }} </p>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <div class="col-md-6 col-sm-12 form-column ">
                <label class="start pull-left">Account.</label>
              </div>
              <div class="col-md-6 col-sm-12 form-column ">
                <input type="text" maxlength="15" oninput="this.value=this.value.toUpperCase()" formControlName="acid"
                  class="form-control"  />
                <mat-icon (click)="accountLookup(i)">search</mat-icon><br>
              </div>
            </div>
            <div class="form-group">
              <div class="col-md-6 col-sm-12 form-column ">
              </div>
              <div class="col-md-6 col-sm-12 form-column ">
                <mat-hint>{{this.description}}</mat-hint>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <div class="col-md-6 col-sm-12 form-column ">
                <label class="start pull-left">Part Transaction Type <span class="warning">*</span></label>
              </div>
              <div class="col-md-6 col-sm-12 form-column">
                <select class="form-control" formControlName="partTranType" >
                  <option value="" >-- Select --</option>
                  <option *ngFor="let flag of  partTransactionTypeArray" [value]="flag">{{ flag }}</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <div class="col-md-6 col-sm-12 form-column ">
                <label class="start pull-left">Transaction Amount</label>
              </div>
              <div class="col-md-6 col-sm-12 form-column ">
                <input type="number" maxlength="15" oninput="this.value=this.value.toUpperCase()"
                  formControlName="transactionAmount" class="form-control"  />
              </div>

            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <div class="col-md-6 col-sm-12 form-column ">
                <label class="start pull-left">Transaction Dates<span class="warning">*</span></label>
              </div>
              <div class="col-md-6 col-sm-12 form-column">
                <input type="datetime-local" oninput="this.value=this.value.toUpperCase()"
                  class="form-control form-control-sm" id="fname" name="formationDate" formControlName="transactionDate"
                  required  />
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <div class="col-md-6 col-sm-12 form-column ">
                <label class="start pull-left">Transaction Particulars.</label>
              </div>
              <div class="col-md-6 col-sm-12 form-column ">
                <input type="text" maxlength="100" oninput="this.value=this.value.toUpperCase()"
                  formControlName="transactionParticulars" class="form-control" />
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <mat-icon class="pull-right"   (click)="onAddField()">add_circle</mat-icon>
            <mat-icon class="warning pull-right"  (click)="onRemoveField(i)">remove_circle</mat-icon>
            <!-- <div class="form-group">
                    <div class="col-md-6 col-sm-12 form-column ">
                     <label class="start pull-left">Part Transaction Type<span class="warning">*</span></label>
                    </div>
                    <div class="col-md-6 col-sm-12 form-column">
                      <input type="text" [value]="this.transaction_code" maxlength="6" oninput ="this.value=this.value.toUpperCase()"
                      formControlName="transaction_code" class="form-control"/>
                      <mat-icon  *ngIf="existingData" (click)="transactionLookup()">search</mat-icon><br>
                    </div>
                 </div>  -->
          </div>
        </div>

      </div>
    </div>



    <div class="row button-row">
      <div class="col-md-3 offset-md-9">
        <button mat-raised-button color="primary" type="submit">
          <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
          Submit
        </button>
      </div>

    </div>
  </form>
  </div>
</mat-card>



